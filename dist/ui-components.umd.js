(function(u,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue"),require("@headlessui/vue"),require("@heroicons/vue/solid"),require("@vueuse/core"),require("@vueuse/components")):typeof define=="function"&&define.amd?define(["exports","vue","@headlessui/vue","@heroicons/vue/solid","@vueuse/core","@vueuse/components"],e):(u=typeof globalThis!="undefined"?globalThis:u||self,e(u["ui-components"]={},u.Vue,u.vue$1,u.solid,u.core,u.components))})(this,function(u,e,p,V,n,H){"use strict";const L=["onKeydown"],M={class:"relative"},j={class:"inline-block w-full rounded-md shadow-sm"},_={class:"relative w-full cursor-default rounded-md border border-gray-300 bg-white py-2 pl-2 pr-10 text-left transition duration-150 ease-in-out focus-within:border-blue-500 focus-within:outline-none focus-within:ring-1 focus-within:ring-blue-500 sm:text-sm sm:leading-5"},U={class:"block flex flex-wrap gap-2"},X={key:1},Q={class:"flex items-center gap-1 rounded bg-blue-600 text-white px-2 py-0.5"},G=["onClick"],J={class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},W={class:"absolute mt-1 w-full rounded-md bg-white shadow-lg z-10"},Y={__name:"MultiCombobox",props:{items:{type:Array,required:!0},modelValue:{type:Array,default:()=>[]},query:{default:""},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},hideTags:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0},disabled:{type:Array,default:()=>[]},autoHide:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","clear"],setup(l,{emit:r}){var I,P,T;const s=l,i=e.ref(!1),d=()=>n.set(i,!n.get(i)),{items:c,excludeSelected:g,modelValue:w,query:b}=e.toRefs(s),y=(I=s.stringify)!=null?I:t=>{var o,a;return(a=(o=t==null?void 0:t.name)!=null?o:t)!=null?a:""},m=(P=s.uniqueKey)!=null?P:t=>{var o;return(o=t==null?void 0:t.id)!=null?o:t},x=e.reactive([]),h=e.ref(n.get(b)),f=e.ref([]),k=e.computed(()=>x.filter(t=>n.get(f).map(m).includes(m(t)))),O=(T=s.filter)!=null?T:async(t,o)=>n.get(o).filter(a=>y(a).toLowerCase().includes(t.toLowerCase())),A=e.computed(()=>n.get(c).filter(t=>!n.get(f).map(m).includes(m(t)))),C=e.ref(n.get(c)),q=n.templateRef("input"),$=()=>n.set(i,!0),S=()=>n.set(i,!1),N=()=>n.get(q).$el.focus();function K(t){t.value===""&&n.get(h)!==""&&(t.value=n.get(h))}async function z(){n.set(f,[]),n.set(h,""),await e.nextTick(),N(),r("clear")}async function F(t){n.set(f,n.get(f).filter(o=>m(o)!==m(t))),await e.nextTick(),N()}const R=n.templateRef("container");return n.onClickOutside(R,()=>S()),e.watch(c,t=>{t.forEach(o=>{x.findIndex(a=>m(a)===m(o))===-1&&x.push(o)})},{immediate:!0}),e.watch(w,t=>n.set(f,t),{immediate:!0}),e.watch(f,t=>r("update:modelValue",t)),e.watch(f,()=>n.set(h,"")),e.watch(h,t=>r("update:query",t)),e.watch(h,async t=>{var o;return n.set(C,(o=await O(n.get(t),n.get(g)?n.get(A):n.get(c)))!=null?o:[])}),e.watch(b,t=>n.set(h,t!=null?`${t}`:"")),n.syncRef(c,C,{direction:"ltr"}),e.watch(h,t=>n.get(q).$el.value=t),e.watch(f,()=>s.autoHide&&S()),e.watch(h,()=>$()),e.onMounted(()=>e.nextTick().then(()=>n.get(q).$el.value=n.get(h))),(t,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:R,onKeydown:e.withKeys(S,["esc"]),onKeyup:o[4]||(o[4]=({code:a})=>["ArrowUp","ArrowDown"].includes(a)&&$())},[e.createVNode(e.unref(p.Combobox),{as:"div",modelValue:f.value,"onUpdate:modelValue":o[3]||(o[3]=a=>f.value=a),multiple:""},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"label",{},()=>[e.createVNode(e.unref(p.ComboboxLabel),{class:"block text-sm font-medium leading-5 text-gray-700 empty:hidden"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label),1)]),_:1})]),e.createElementVNode("div",M,[e.createElementVNode("span",j,[e.createElementVNode("div",_,[e.createElementVNode("span",U,[f.value.length===0?(e.openBlock(),e.createElementBlock("span",{key:0,class:"p-0.5 cursor-pointer empty:hidden",onClick:N},[e.renderSlot(t.$slots,"empty-state")])):e.createCommentVNode("",!0),l.hideTags?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",X,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),a=>(e.openBlock(),e.createElementBlock("span",{key:e.unref(m)(a)},[e.renderSlot(t.$slots,"selected-items",e.normalizeProps(e.guardReactiveProps({item:a,stringify:e.unref(y),remove:F})),()=>[e.createElementVNode("span",Q,[e.createElementVNode("span",null,e.toDisplayString(e.unref(y)(a)),1),e.createElementVNode("button",{role:"button",onClick:B=>F(a)},[e.createVNode(e.unref(V.XIcon),{class:"h-4 w-4"})],8,G)])])]))),128))])),e.createVNode(e.unref(p.ComboboxInput),e.mergeProps({ref_key:"input",ref:q,autocomplete:"off"},l.inputAttrs,{class:"reset border-none p-0 focus:ring-0 grow",onFocus:$,onBlur:o[0]||(o[0]=a=>K(a.target)),onChange:o[1]||(o[1]=a=>h.value=a.target.value)}),null,16)]),e.createElementVNode("div",J,[l.clearable?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",onClick:z},[f.value.length!==0?(e.openBlock(),e.createBlock(e.unref(V.XIcon),{key:0,class:"h-5 w-5 text-gray-300","aria-hidden":"true"})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("button",{type:"button",onClick:d},[e.createVNode(e.unref(V.SelectorIcon),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])])]),e.withDirectives(e.createElementVNode("div",W,[C.value.length>0?(e.openBlock(),e.createBlock(e.unref(p.ComboboxOptions),{key:0,static:"",class:"shadow-xs max-h-60 overflow-auto rounded-md py-1 text-base leading-6 focus:outline-none sm:text-sm sm:leading-5"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,a=>(e.openBlock(),e.createBlock(e.unref(p.ComboboxOption),{key:e.unref(m)(a),value:e.unref(m)(a),disabled:l.disabled.includes(e.unref(m)(a)),onClick:o[2]||(o[2]=()=>l.autoHide&&S())},{default:e.withCtx(({active:B,selected:E})=>[e.renderSlot(t.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:a,active:B,selected:E,stringify:e.unref(y)})),()=>[e.createElementVNode("li",{class:e.normalizeClass(["relative cursor-default select-none py-2 pl-3 pr-9 focus:outline-none",B?"bg-blue-600 text-white":"text-gray-900"])},[e.createElementVNode("span",{class:e.normalizeClass(["block truncate",{"font-semibold":E,"font-normal":!E}])},e.toDisplayString(e.unref(y)(a)),3),E?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["absolute inset-y-0 right-0 flex items-center pr-4",{"text-white":B,"text-blue-600":!B}])},[e.createVNode(e.unref(V.CheckIcon),{class:"h-5 w-5"})],2)):e.createCommentVNode("",!0)],2)])]),_:2},1032,["value","disabled"]))),128))]),_:3})):e.createCommentVNode("",!0)],512),[[e.vShow,i.value]])])]),_:3},8,["modelValue"])],40,L))}},Z=["onKeydown"],v={class:"relative"},ee={class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},te={class:"absolute mt-1 w-full rounded-md bg-white shadow-lg z-10"},ne={__name:"SingleCombobox",props:{items:{type:Array,required:!0},modelValue:{type:[String,Number,Object],default:null},query:{default:""},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0},disabled:{type:Array,default:()=>[]},autoHide:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","clear"],setup(l,{emit:r}){var I,P,T;const s=l,i=e.ref(!1),d=()=>n.set(i,!n.get(i)),{items:c,excludeSelected:g,modelValue:w,query:b}=e.toRefs(s),y=(I=s.stringify)!=null?I:t=>{var o,a;return(a=(o=t==null?void 0:t.name)!=null?o:t)!=null?a:void 0},m=t=>{try{const o=y(t);if(o==null)throw Error("Cannot stringify nullish value");return`${o}`}catch(o){return console.debug("Unable to stringify item",t,o),""}},x=(P=s.uniqueKey)!=null?P:t=>{var o;return(o=t==null?void 0:t.id)!=null?o:t};function h(t){return s.items.find(o=>x(o)===t)}const f=e.ref(n.get(b)),k=e.ref(),O=(T=s.filter)!=null?T:async(t,o)=>n.get(o).filter(a=>m(a).toLowerCase().includes(t.toLowerCase())),A=e.computed(()=>n.get(c).filter(t=>x(t)!==x(n.get(w)))),C=e.ref(n.get(c)),q=t=>t!=null?m(t):n.get(f),$=n.templateRef("input"),S=()=>n.set(i,!0),N=()=>n.set(i,!1),K=()=>n.get($).$el.focus();function z(t){t.value===""&&n.get(f)!==""&&(t.value=n.get(f))}async function F(){n.set(k,void 0),n.set(f,""),await e.nextTick(),K(),r("clear")}const R=n.templateRef("container");return n.onClickOutside(R,()=>N()),e.watch(w,t=>n.set(k,h(t)),{immediate:!0}),e.watch(k,t=>r("update:modelValue",x(t))),n.whenever(k,t=>n.set(f,m(t))),e.watch(f,t=>r("update:query",t)),e.watch(f,async t=>{var o;return n.set(C,(o=await O(n.get(t),n.get(g)?n.get(A):n.get(c)))!=null?o:[])}),e.watch(b,t=>n.set(f,t!=null?`${t}`:"")),e.watch(k,()=>s.autoHide&&N()),e.watch(f,()=>S()),n.syncRef(c,C,{direction:"ltr"}),(t,o)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:R,onKeydown:e.withKeys(N,["esc"]),onKeyup:o[4]||(o[4]=({code:a})=>["ArrowUp","ArrowDown"].includes(a)&&S())},[e.createVNode(e.unref(p.Combobox),{as:"div",modelValue:k.value,"onUpdate:modelValue":o[3]||(o[3]=a=>k.value=a)},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"label",{},()=>[e.createVNode(e.unref(p.ComboboxLabel),{class:"block text-sm font-medium text-gray-700 mb-1 empty:hidden"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.label),1)]),_:1})]),e.createElementVNode("div",v,[e.createVNode(e.unref(p.ComboboxInput),e.mergeProps({ref_key:"input",ref:$,"display-value":q,autocomplete:"off"},l.inputAttrs,{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:outline-none focus:ring-1 sm:text-sm",onFocus:S,onBlur:o[0]||(o[0]=a=>z(a.target)),onChange:o[1]||(o[1]=a=>f.value=a.target.value)}),null,16),e.createElementVNode("div",ee,[l.clearable?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",onClick:F},[e.unref(w)!=null?(e.openBlock(),e.createBlock(e.unref(V.XIcon),{key:0,name:"x",class:"h-5 w-5 text-gray-300","aria-hidden":"true"})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("button",{type:"button",onClick:d},[e.createVNode(e.unref(V.SelectorIcon),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),e.withDirectives(e.createElementVNode("div",te,[C.value.length>0?(e.openBlock(),e.createBlock(e.unref(p.ComboboxOptions),{key:0,static:"",class:"shadow-xs max-h-60 overflow-auto rounded-md py-1 text-base leading-6 focus:outline-none sm:text-sm sm:leading-5"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,a=>(e.openBlock(),e.createBlock(e.unref(p.ComboboxOption),{key:e.unref(x)(a),value:a,disabled:l.disabled.includes(e.unref(x)(a)),onClick:o[2]||(o[2]=()=>l.autoHide&&N())},{default:e.withCtx(({active:B,selected:E})=>[e.renderSlot(t.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:a,active:B,selected:E,stringify:m})),()=>[e.createElementVNode("li",{class:e.normalizeClass(["relative cursor-pointer select-none py-2 pl-3 pr-9",B?"bg-indigo-600 text-white":"text-gray-900"])},[e.createElementVNode("span",{class:e.normalizeClass(["block truncate",E&&"font-semibold"])},e.toDisplayString(m(a)),3),E?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["absolute inset-y-0 right-0 flex items-center pr-4",B?"text-white":"text-indigo-600"])},[e.createVNode(e.unref(V.CheckIcon),{class:"h-5 w-5","aria-hidden":"true"})],2)):e.createCommentVNode("",!0)],2)])]),_:2},1032,["value","disabled"]))),128))]),_:3})):e.createCommentVNode("",!0)],512),[[e.vShow,i.value]])])]),_:3},8,["modelValue"])],40,Z))}},oe={__name:"ComboBox",props:{items:{type:Array,required:!0},modelValue:{type:[String,Number,Object,Array],default:void 0},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0}},setup(l){return(r,s)=>Array.isArray(l.modelValue)?(e.openBlock(),e.createBlock(Y,e.mergeProps({key:0,items:l.items,"model-value":l.modelValue,stringify:l.stringify,"unique-key":l.uniqueKey,filter:l.filter,"input-attrs":l.inputAttrs,"exclude-selected":l.excludeSelected,clearable:l.clearable,label:l.label},r.$attrs),{label:e.withCtx(()=>[e.renderSlot(r.$slots,"label")]),"selected-items":e.withCtx(({item:i,stringify:d,remove:c})=>[e.renderSlot(r.$slots,"selected-items",e.normalizeProps(e.guardReactiveProps({item:i,stringify:d,remove:c})))]),default:e.withCtx(({item:i,active:d,selected:c,stringify:g})=>[e.renderSlot(r.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:i,active:d,selected:c,stringify:g})))]),_:3},16,["items","model-value","stringify","unique-key","filter","input-attrs","exclude-selected","clearable","label"])):(e.openBlock(),e.createBlock(ne,e.mergeProps({key:1,items:l.items,"model-value":l.modelValue,stringify:l.stringify,"unique-key":l.uniqueKey,filter:l.filter,"input-attrs":l.inputAttrs,"exclude-selected":l.excludeSelected,clearable:l.clearable,label:l.label},r.$attrs),{label:e.withCtx(()=>[e.renderSlot(r.$slots,"label")]),default:e.withCtx(({item:i,active:d,selected:c,stringify:g})=>[e.renderSlot(r.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:i,active:d,selected:c,stringify:g})))]),_:3},16,["items","model-value","stringify","unique-key","filter","input-attrs","exclude-selected","clearable","label"]))}},le={__name:"HoverableElement",props:{as:{type:String,default:"div"}},setup(l){const r=e.ref(!1);function s(i){r.value=i}return(i,d)=>e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.as),null,{default:e.withCtx(()=>[e.renderSlot(i.$slots,"default",{isHovered:r.value})]),_:3})),[[e.unref(H.vElementHover),s]])}},ae=e.createElementVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),se={class:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0"},D={__name:"Modal",props:{open:{type:Boolean,default:!1},hideCloseIcon:{type:Boolean,default:!1}},emits:["submit","reset","close"],setup(l,{emit:r}){const s=l,{open:i}=e.toRefs(s),d=e.ref(s.open);function c(){r("close")}return n.syncRef(i,d,{direction:"ltr"}),(g,w)=>(e.openBlock(),e.createBlock(e.unref(p.TransitionRoot),{as:"template",show:d.value},{default:e.withCtx(()=>[e.createVNode(e.unref(p.Dialog),{as:"div",class:"relative z-10",onClose:c},{default:e.withCtx(()=>[e.createVNode(e.unref(p.TransitionChild),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:e.withCtx(()=>[ae]),_:1}),e.createElementVNode("div",{class:"fixed z-10 inset-0 overflow-y-auto",onSubmit:w[0]||(w[0]=e.withModifiers((...b)=>g.submit&&g.submit(...b),["prevent"]))},[e.createElementVNode("div",se,[e.createVNode(e.unref(p.TransitionChild),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:e.withCtx(()=>[e.createVNode(e.unref(p.DialogPanel),{class:e.normalizeClass([l.hideCloseIcon?"pt-5":"pt-8","relative bg-white rounded-lg","px-4 pb-4","text-left overflow-hidden shadow-xl","transform transition-all","sm:max-w-lg sm:w-full"])},{default:e.withCtx(()=>[l.hideCloseIcon?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"absolute top-0 right-0 p-3 focus:outline-none",onClick:c},[e.createVNode(e.unref(V.XIcon),{class:"h-5 w-5 text-gray-800 hover:text-black"})])),e.renderSlot(g.$slots,"default")]),_:3},8,["class"])]),_:3})])],32)]),_:3})]),_:3},8,["show"]))}},re=["onSubmit","onReset"],ie={class:"mt-5 sm:mt-6 grid sm:grid-cols-2 gap-3 sm:grid-flow-row-dense empty:hidden"},de={type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm"},ce={type:"reset",class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"},fe={__name:"Prompt",props:{open:{type:Boolean,default:!1},resetButtonText:{type:String,default:"Cancel"},submitButtonText:{type:String,default:"Submit"},onReset:{type:Function,default:void 0},onSubmit:{type:Function,default:void 0},hideOnSubmit:{type:Boolean,default:!0},hideOnReset:{type:Boolean,default:!0},noFooter:{type:Boolean,default:!1}},emits:["submit","reset"],setup(l,{emit:r}){const s=l,{open:i}=e.toRefs(s),d=e.ref(s.open),c=n.templateRef("FormHTMLElement");async function g(){var y;await((y=s.onSubmit)!=null?y:m=>r("submit",{form:n.get(m),visible:d}))({form:n.get(c),visible:d}),s.hideOnSubmit&&n.set(d,!1)}async function w(){var y;await((y=s.onReset)!=null?y:m=>r("reset",{form:n.get(m),visible:d}))({form:n.get(c),visible:d}),s.hideOnReset&&n.set(d,!1)}return n.syncRef(i,d,{direction:"ltr"}),(b,y)=>(e.openBlock(),e.createBlock(D,{open:d.value},{default:e.withCtx(()=>[e.createElementVNode("form",{ref_key:"FormHTMLElement",ref:c,onSubmit:e.withModifiers(g,["prevent"]),onReset:e.withModifiers(w,["prevent"])},[e.createElementVNode("div",null,[e.renderSlot(b.$slots,"default",{form:e.unref(c)})]),e.renderSlot(b.$slots,"footer",{},()=>[e.createElementVNode("footer",ie,[e.renderSlot(b.$slots,"buttons",{},()=>[e.createElementVNode("button",de,e.toDisplayString(l.submitButtonText),1),e.createElementVNode("button",ce,e.toDisplayString(l.resetButtonText),1)])])])],40,re)]),_:3},8,["open"]))}};var me=(l,r)=>{const s=l.__vccOpts||l;for(const[i,d]of r)s[i]=d;return s};const ue={},pe={class:"mx-auto flex items-center justify-center h-12 w-12 mb-3 sm:mb-5","aria-hidden":"true"};function ye(l,r){return e.openBlock(),e.createElementBlock("div",pe,[e.renderSlot(l.$slots,"default")])}var ge=me(ue,[["render",ye]]);const be={__name:"PromptTitle",props:{tag:{type:String,default:"h3"}},setup(l){return(r,s)=>(e.openBlock(),e.createBlock(e.unref(p.DialogTitle),{as:l.tag,class:"mb-2 text-center text-lg leading-6 font-medium text-gray-900"},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:3},8,["as"]))}};u.ComboBox=oe,u.HoverableElement=le,u.Modal=D,u.Prompt=fe,u.PromptIcon=ge,u.PromptTitle=be,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
