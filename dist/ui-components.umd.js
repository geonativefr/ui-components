(function(y,e){typeof exports=="object"&&typeof module!="undefined"?e(exports,require("vue"),require("@headlessui/vue"),require("@heroicons/vue/solid"),require("@vueuse/core"),require("@vueuse/components")):typeof define=="function"&&define.amd?define(["exports","vue","@headlessui/vue","@heroicons/vue/solid","@vueuse/core","@vueuse/components"],e):(y=typeof globalThis!="undefined"?globalThis:y||self,e(y["ui-components"]={},y.Vue,y.vue$1,y.solid,y.core,y.components))})(this,function(y,e,p,V,t,D){"use strict";const L=["onKeydown"],M={class:"relative"},j={class:"inline-block w-full rounded-md shadow-sm"},_={class:"relative w-full cursor-default rounded-md border border-gray-300 bg-white py-2 pl-2 pr-10 text-left transition duration-150 ease-in-out focus-within:border-blue-500 focus-within:outline-none focus-within:ring-1 focus-within:ring-blue-500 sm:text-sm sm:leading-5"},U={class:"block flex flex-wrap gap-2"},X={class:"flex items-center gap-1 rounded bg-blue-600 text-white px-2 py-0.5"},Q=["onClick"],G={class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},J={class:"absolute mt-1 w-full rounded-md bg-white shadow-lg z-10"},W={__name:"MultiCombobox",props:{items:{type:Array,required:!0},modelValue:{type:Array,default:()=>[]},query:{default:""},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0},disabled:{type:Array,default:()=>[]},autoHide:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","clear"],setup(o,{emit:r}){var P,F,I;const s=o,i=e.ref(!1),d=()=>t.set(i,!t.get(i)),{items:c,excludeSelected:h,modelValue:k,query:w}=e.toRefs(s),b=(P=s.stringify)!=null?P:a=>{var n,l;return(l=(n=a==null?void 0:a.name)!=null?n:a)!=null?l:""},m=(F=s.uniqueKey)!=null?F:a=>{var n;return(n=a==null?void 0:a.id)!=null?n:a},u=e.ref(t.get(w)),g=e.ref([]),x=e.computed(()=>t.get(c).filter(a=>t.get(g).map(m).includes(m(a)))),C=(I=s.filter)!=null?I:async(a,n)=>t.get(n).filter(l=>b(l).toLowerCase().includes(a.toLowerCase())),K=e.computed(()=>t.get(c).filter(a=>!t.get(g).map(m).includes(m(a)))),q=e.ref(t.get(c)),B=t.templateRef("input"),R=()=>t.set(i,!0),N=()=>t.set(i,!1),E=()=>t.get(B).$el.focus();function $(a){a.value===""&&t.get(u)!==""&&(a.value=t.get(u))}async function z(){t.set(g,[]),t.set(u,""),await e.nextTick(),E(),r("clear")}async function T(a){t.set(g,t.get(g).filter(n=>m(n)!==m(a))),await e.nextTick(),E()}const O=t.templateRef("container");return t.onClickOutside(O,()=>N()),e.watch(k,a=>t.set(g,a),{immediate:!0}),e.watch(g,a=>r("update:modelValue",a)),e.watch(g,()=>t.set(u,"")),e.watch(u,a=>r("update:query",a)),e.watch(u,async a=>{var n;return t.set(q,(n=await C(t.get(a),t.get(h)?t.get(K):t.get(c)))!=null?n:[])}),e.watch(w,a=>t.set(u,a!=null?`${a}`:"")),t.syncRef(c,q,{direction:"ltr"}),e.watch(u,a=>t.get(B).$el.value=a),e.watch(g,()=>s.autoHide&&N()),e.watch(u,()=>R()),e.onMounted(()=>e.nextTick().then(()=>t.get(B).$el.value=t.get(u))),(a,n)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:O,onKeydown:e.withKeys(N,["esc"]),onKeyup:n[4]||(n[4]=({keyCode:l})=>[38,40].includes(l)&&R())},[e.createVNode(e.unref(p.Combobox),{as:"div",modelValue:g.value,"onUpdate:modelValue":n[3]||(n[3]=l=>g.value=l),multiple:""},{default:e.withCtx(()=>[e.renderSlot(a.$slots,"label",{},()=>[e.createVNode(e.unref(p.ComboboxLabel),{class:"block text-sm font-medium leading-5 text-gray-700 empty:hidden"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:1})]),e.createElementVNode("div",M,[e.createElementVNode("span",j,[e.createElementVNode("div",_,[e.createElementVNode("span",U,[g.value.length===0?(e.openBlock(),e.createElementBlock("span",{key:0,class:"p-0.5 cursor-pointer empty:hidden",onClick:E},[e.renderSlot(a.$slots,"empty-state")])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(x),l=>(e.openBlock(),e.createElementBlock("span",{key:e.unref(m)(l)},[e.renderSlot(a.$slots,"selected-items",e.normalizeProps(e.guardReactiveProps({item:l,stringify:e.unref(b),remove:T})),()=>[e.createElementVNode("span",X,[e.createElementVNode("span",null,e.toDisplayString(e.unref(b)(l)),1),e.createElementVNode("button",{role:"button",onClick:f=>T(l)},[e.createVNode(e.unref(V.XIcon),{class:"h-4 w-4"})],8,Q)])])]))),128)),e.createVNode(e.unref(p.ComboboxInput),e.mergeProps({ref_key:"input",ref:B,autocomplete:"off"},o.inputAttrs,{class:"reset border-none p-0 focus:ring-0 grow",onFocus:R,onBlur:n[0]||(n[0]=l=>$(l.target)),onChange:n[1]||(n[1]=l=>u.value=l.target.value)}),null,16)]),e.createElementVNode("div",G,[o.clearable?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",onClick:z},[g.value.length!==0?(e.openBlock(),e.createBlock(e.unref(V.XIcon),{key:0,class:"h-5 w-5 text-gray-300","aria-hidden":"true"})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("button",{type:"button",onClick:d},[e.createVNode(e.unref(V.SelectorIcon),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])])]),e.withDirectives(e.createElementVNode("div",J,[q.value.length>0?(e.openBlock(),e.createBlock(e.unref(p.ComboboxOptions),{key:0,static:"",class:"shadow-xs max-h-60 overflow-auto rounded-md py-1 text-base leading-6 focus:outline-none sm:text-sm sm:leading-5"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,l=>(e.openBlock(),e.createBlock(e.unref(p.ComboboxOption),{key:e.unref(m)(l),value:e.unref(m)(l),disabled:o.disabled.includes(e.unref(m)(l)),onClick:n[2]||(n[2]=()=>o.autoHide&&N())},{default:e.withCtx(({active:f,selected:S})=>[e.renderSlot(a.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:l,active:f,selected:S,stringify:e.unref(b)})),()=>[e.createElementVNode("li",{class:e.normalizeClass(["relative cursor-default select-none py-2 pl-3 pr-9 focus:outline-none",f?"bg-blue-600 text-white":"text-gray-900"])},[e.createElementVNode("span",{class:e.normalizeClass(["block truncate",{"font-semibold":S,"font-normal":!S}])},e.toDisplayString(e.unref(b)(l)),3),S?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["absolute inset-y-0 right-0 flex items-center pr-4",{"text-white":f,"text-blue-600":!f}])},[e.createVNode(e.unref(V.CheckIcon),{class:"h-5 w-5"})],2)):e.createCommentVNode("",!0)],2)])]),_:2},1032,["value","disabled"]))),128))]),_:3})):e.createCommentVNode("",!0)],512),[[e.vShow,i.value]])])]),_:3},8,["modelValue"])],40,L))}},Y=["onKeydown"],Z={class:"relative"},v={class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},ee={class:"absolute mt-1 w-full rounded-md bg-white shadow-lg z-10"},te={__name:"SingleCombobox",props:{items:{type:Array,required:!0},modelValue:{type:[String,Number,Object],default:null},query:{default:""},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0},disabled:{type:Array,default:()=>[]},autoHide:{type:Boolean,default:!1}},emits:["update:modelValue","update:query","clear"],setup(o,{emit:r}){var F,I,a;const s=o,i=e.ref(!1),d=()=>t.set(i,!t.get(i)),{items:c,excludeSelected:h,modelValue:k,query:w}=e.toRefs(s),b=(F=s.stringify)!=null?F:n=>{var l,f;return(f=(l=n==null?void 0:n.name)!=null?l:n)!=null?f:void 0},m=n=>{try{const l=b(n);if(l==null)throw Error("Cannot stringify nullish value");return`${l}`}catch(l){return console.debug("Unable to stringify item",n,l),""}},u=(I=s.uniqueKey)!=null?I:n=>{var l;return(l=n==null?void 0:n.id)!=null?l:n};function g(n){return s.items.find(l=>u(l)===n)}const x=e.ref(t.get(w)),C=e.ref(),K=(a=s.filter)!=null?a:async(n,l)=>t.get(l).filter(f=>m(f).toLowerCase().includes(n.toLowerCase())),q=e.computed(()=>t.get(c).filter(n=>u(n)!==u(t.get(k)))),B=e.ref(t.get(c)),R=n=>n!=null?m(n):t.get(x),N=t.templateRef("input"),E=()=>t.set(i,!0),$=()=>t.set(i,!1),z=()=>t.get(N).$el.focus();function T(n){n.value===""&&t.get(x)!==""&&(n.value=t.get(x))}async function O(){t.set(C,void 0),t.set(x,""),await e.nextTick(),z(),r("clear")}const P=t.templateRef("container");return t.onClickOutside(P,()=>$()),e.watch(k,n=>t.set(C,g(n)),{immediate:!0}),e.watch(C,n=>r("update:modelValue",u(n))),t.whenever(C,n=>t.set(x,m(n))),e.watch(x,n=>r("update:query",n)),e.watch(x,async n=>{var l;return t.set(B,(l=await K(t.get(n),t.get(h)?t.get(q):t.get(c)))!=null?l:[])}),e.watch(w,n=>t.set(x,n!=null?`${n}`:"")),e.watch(C,()=>s.autoHide&&$()),e.watch(x,()=>E()),t.syncRef(c,B,{direction:"ltr"}),(n,l)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:P,onKeydown:e.withKeys($,["esc"]),onKeyup:l[4]||(l[4]=({keyCode:f})=>[38,40].includes(f)&&E())},[e.createVNode(e.unref(p.Combobox),{as:"div",modelValue:C.value,"onUpdate:modelValue":l[3]||(l[3]=f=>C.value=f)},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"label",{},()=>[e.createVNode(e.unref(p.ComboboxLabel),{class:"block text-sm font-medium text-gray-700 mb-1 empty:hidden"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.label),1)]),_:1})]),e.createElementVNode("div",Z,[e.createVNode(e.unref(p.ComboboxInput),e.mergeProps({ref_key:"input",ref:N,"display-value":R,autocomplete:"off"},o.inputAttrs,{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:outline-none focus:ring-1 sm:text-sm",onFocus:E,onBlur:l[0]||(l[0]=f=>T(f.target)),onChange:l[1]||(l[1]=f=>x.value=f.target.value)}),null,16),e.createElementVNode("div",v,[o.clearable?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",onClick:O},[e.unref(k)!=null?(e.openBlock(),e.createBlock(e.unref(V.XIcon),{key:0,name:"x",class:"h-5 w-5 text-gray-300","aria-hidden":"true"})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("button",{type:"button",onClick:d},[e.createVNode(e.unref(V.SelectorIcon),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),e.withDirectives(e.createElementVNode("div",ee,[B.value.length>0?(e.openBlock(),e.createBlock(e.unref(p.ComboboxOptions),{key:0,static:"",class:"shadow-xs max-h-60 overflow-auto rounded-md py-1 text-base leading-6 focus:outline-none sm:text-sm sm:leading-5"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,f=>(e.openBlock(),e.createBlock(e.unref(p.ComboboxOption),{key:e.unref(u)(f),value:f,disabled:o.disabled.includes(e.unref(u)(f)),onClick:l[2]||(l[2]=()=>o.autoHide&&$())},{default:e.withCtx(({active:S,selected:A})=>[e.renderSlot(n.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:f,active:S,selected:A,stringify:m})),()=>[e.createElementVNode("li",{class:e.normalizeClass(["relative cursor-pointer select-none py-2 pl-3 pr-9",S?"bg-indigo-600 text-white":"text-gray-900"])},[e.createElementVNode("span",{class:e.normalizeClass(["block truncate",A&&"font-semibold"])},e.toDisplayString(m(f)),3),A?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["absolute inset-y-0 right-0 flex items-center pr-4",S?"text-white":"text-indigo-600"])},[e.createVNode(e.unref(V.CheckIcon),{class:"h-5 w-5","aria-hidden":"true"})],2)):e.createCommentVNode("",!0)],2)])]),_:2},1032,["value","disabled"]))),128))]),_:3})):e.createCommentVNode("",!0)],512),[[e.vShow,i.value]])])]),_:3},8,["modelValue"])],40,Y))}},ne={__name:"ComboBox",props:{items:{type:Array,required:!0},modelValue:{type:[String,Number,Object,Array],default:void 0},stringify:{type:Function,default:void 0},uniqueKey:{type:Function,default:void 0},filter:{type:Function,default:void 0},inputAttrs:{type:Object,default:()=>({})},excludeSelected:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},label:{type:String,default:void 0}},setup(o){return(r,s)=>Array.isArray(o.modelValue)?(e.openBlock(),e.createBlock(W,e.mergeProps({key:0,items:o.items,"model-value":o.modelValue,stringify:o.stringify,"unique-key":o.uniqueKey,filter:o.filter,"input-attrs":o.inputAttrs,"exclude-selected":o.excludeSelected,clearable:o.clearable,label:o.label},r.$attrs),{label:e.withCtx(()=>[e.renderSlot(r.$slots,"label")]),"selected-items":e.withCtx(({item:i,stringify:d,remove:c})=>[e.renderSlot(r.$slots,"selected-items",e.normalizeProps(e.guardReactiveProps({item:i,stringify:d,remove:c})))]),default:e.withCtx(({item:i,active:d,selected:c,stringify:h})=>[e.renderSlot(r.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:i,active:d,selected:c,stringify:h})))]),_:3},16,["items","model-value","stringify","unique-key","filter","input-attrs","exclude-selected","clearable","label"])):(e.openBlock(),e.createBlock(te,e.mergeProps({key:1,items:o.items,"model-value":o.modelValue,stringify:o.stringify,"unique-key":o.uniqueKey,filter:o.filter,"input-attrs":o.inputAttrs,"exclude-selected":o.excludeSelected,clearable:o.clearable,label:o.label},r.$attrs),{label:e.withCtx(()=>[e.renderSlot(r.$slots,"label")]),default:e.withCtx(({item:i,active:d,selected:c,stringify:h})=>[e.renderSlot(r.$slots,"default",e.normalizeProps(e.guardReactiveProps({item:i,active:d,selected:c,stringify:h})))]),_:3},16,["items","model-value","stringify","unique-key","filter","input-attrs","exclude-selected","clearable","label"]))}},le={__name:"HoverableElement",props:{as:{type:String,default:"div"}},setup(o){const r=e.ref(!1);function s(i){r.value=i}return(i,d)=>e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.as),null,{default:e.withCtx(()=>[e.renderSlot(i.$slots,"default",{isHovered:r.value})]),_:3})),[[e.unref(D.vElementHover),s]])}},oe=e.createElementVNode("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),ae={class:"flex items-end sm:items-center justify-center min-h-full p-4 text-center sm:p-0"},H={__name:"Modal",props:{open:{type:Boolean,default:!1},hideCloseIcon:{type:Boolean,default:!1}},emits:["submit","reset","close"],setup(o,{emit:r}){const s=o,{open:i}=e.toRefs(s),d=e.ref(s.open);function c(){r("close")}return t.syncRef(i,d,{direction:"ltr"}),(h,k)=>(e.openBlock(),e.createBlock(e.unref(p.TransitionRoot),{as:"template",show:d.value},{default:e.withCtx(()=>[e.createVNode(e.unref(p.Dialog),{as:"div",class:"relative z-10",onClose:c},{default:e.withCtx(()=>[e.createVNode(e.unref(p.TransitionChild),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:e.withCtx(()=>[oe]),_:1}),e.createElementVNode("div",{class:"fixed z-10 inset-0 overflow-y-auto",onSubmit:k[0]||(k[0]=e.withModifiers((...w)=>h.submit&&h.submit(...w),["prevent"]))},[e.createElementVNode("div",ae,[e.createVNode(e.unref(p.TransitionChild),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:e.withCtx(()=>[e.createVNode(e.unref(p.DialogPanel),{class:e.normalizeClass([o.hideCloseIcon?"pt-5":"pt-8","relative bg-white rounded-lg","px-4 pb-4","text-left overflow-hidden shadow-xl","transform transition-all","sm:max-w-lg sm:w-full"])},{default:e.withCtx(()=>[o.hideCloseIcon?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"absolute top-0 right-0 p-3 focus:outline-none",onClick:c},[e.createVNode(e.unref(V.XIcon),{class:"h-5 w-5 text-gray-800 hover:text-black"})])),e.renderSlot(h.$slots,"default")]),_:3},8,["class"])]),_:3})])],32)]),_:3})]),_:3},8,["show"]))}},se=["onSubmit","onReset"],re={class:"mt-5 sm:mt-6 grid sm:grid-cols-2 gap-3 sm:grid-flow-row-dense empty:hidden"},ie={type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm"},de={type:"reset",class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm"},ce={__name:"Prompt",props:{open:{type:Boolean,default:!1},resetButtonText:{type:String,default:"Cancel"},submitButtonText:{type:String,default:"Submit"},onReset:{type:Function,default:void 0},onSubmit:{type:Function,default:void 0},hideOnSubmit:{type:Boolean,default:!0},hideOnReset:{type:Boolean,default:!0},noFooter:{type:Boolean,default:!1}},emits:["submit","reset"],setup(o,{emit:r}){const s=o,{open:i}=e.toRefs(s),d=e.ref(s.open),c=t.templateRef("FormHTMLElement");async function h(){var b;await((b=s.onSubmit)!=null?b:m=>r("submit",{form:t.get(m),visible:d}))({form:t.get(c),visible:d}),s.hideOnSubmit&&t.set(d,!1)}async function k(){var b;await((b=s.onReset)!=null?b:m=>r("reset",{form:t.get(m),visible:d}))({form:t.get(c),visible:d}),s.hideOnReset&&t.set(d,!1)}return t.syncRef(i,d,{direction:"ltr"}),(w,b)=>(e.openBlock(),e.createBlock(H,{open:d.value},{default:e.withCtx(()=>[e.createElementVNode("form",{ref_key:"FormHTMLElement",ref:c,onSubmit:e.withModifiers(h,["prevent"]),onReset:e.withModifiers(k,["prevent"])},[e.createElementVNode("div",null,[e.renderSlot(w.$slots,"default",{form:e.unref(c)})]),e.renderSlot(w.$slots,"footer",{},()=>[e.createElementVNode("footer",re,[e.renderSlot(w.$slots,"buttons",{},()=>[e.createElementVNode("button",ie,e.toDisplayString(o.submitButtonText),1),e.createElementVNode("button",de,e.toDisplayString(o.resetButtonText),1)])])])],40,se)]),_:3},8,["open"]))}};var fe=(o,r)=>{const s=o.__vccOpts||o;for(const[i,d]of r)s[i]=d;return s};const me={},ue={class:"mx-auto flex items-center justify-center h-12 w-12 mb-3 sm:mb-5","aria-hidden":"true"};function ye(o,r){return e.openBlock(),e.createElementBlock("div",ue,[e.renderSlot(o.$slots,"default")])}var pe=fe(me,[["render",ye]]);const ge={__name:"PromptTitle",props:{tag:{type:String,default:"h3"}},setup(o){return(r,s)=>(e.openBlock(),e.createBlock(e.unref(p.DialogTitle),{as:o.tag,class:"mb-2 text-center text-lg leading-6 font-medium text-gray-900"},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:3},8,["as"]))}};y.ComboBox=ne,y.HoverableElement=le,y.Modal=H,y.Prompt=ce,y.PromptIcon=pe,y.PromptTitle=ge,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
